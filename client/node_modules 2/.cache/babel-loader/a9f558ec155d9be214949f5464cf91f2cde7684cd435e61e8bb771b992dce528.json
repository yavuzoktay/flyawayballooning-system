{"ast":null,"code":"import{Modal,TextField}from\"@mui/material\";import React,{useState}from\"react\";import TimeSlotSelect from\"./TimeSlotSelect\";import{DemoContainer}from'@mui/x-date-pickers/internals/demo';import{AdapterDayjs}from'@mui/x-date-pickers/AdapterDayjs';import{LocalizationProvider}from'@mui/x-date-pickers/LocalizationProvider';import{DatePicker}from'@mui/x-date-pickers/DatePicker';import{Link}from\"react-router-dom\";import dayjs from\"dayjs\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SpecificDataModal=_ref=>{let{modal,handleClose,activityId,disabledDates,fetchSlots,showSnackbar}=_ref;const[specificTimeSlot,setSpecificTimeSlot]=useState('');const[specificSeats,setSpecificSeats]=useState('');const[selectedDate,setSelectedDate]=useState(null);// Function to determine if a date should be disabled\nconst isDateDisabled=date=>{const formattedDate=dayjs(date).format(\"DD-MM-YYYY\");return disabledDates.includes(formattedDate);// Match against saved dates\n};// Handle Save Slot\nasync function handleSaveSlot(){const formattedDate=dayjs(selectedDate).format(\"DD-MM-YYYY\");try{const response=await axios.post(\"/api/addSpecificSlot\",{activityId,date:formattedDate,slot:specificTimeSlot,seats:specificSeats});if(response.status===200){fetchSlots();handleClose();setSpecificTimeSlot('');setSpecificSeats('');setSelectedDate(null);// Show success Snackbar\nshowSnackbar(\"Slot added successfully!\",\"success\");}else{showSnackbar(\"Failed to add slot.\",\"error\");}}catch(error){}}return/*#__PURE__*/_jsx(Modal,{keepMounted:true,open:modal,onClose:handleClose,\"aria-labelledby\":\"keep-mounted-modal-title\",\"aria-describedby\":\"keep-mounted-modal-description\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"specific-slot-add\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Slot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"specific-slot-field\",children:/*#__PURE__*/_jsx(TimeSlotSelect,{timeSlot:specificTimeSlot,setTimeSlot:setSpecificTimeSlot})}),/*#__PURE__*/_jsx(\"div\",{className:\"specific-slot-field\",children:/*#__PURE__*/_jsx(TextField,{id:\"add-outlined-controlled\",label:\"Select Seats\",type:\"number\",value:specificSeats,onChange:event=>{setSpecificSeats(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"specific-slot-field calender-slot-add\",children:/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDayjs,children:/*#__PURE__*/_jsx(DemoContainer,{components:[\"DatePicker\"],children:/*#__PURE__*/_jsx(DatePicker,{label:\"Select Date\",value:selectedDate?dayjs(selectedDate):null,onChange:newDate=>setSelectedDate(newDate?dayjs(newDate):null),shouldDisableDate:isDateDisabled// Disable specific dates\n})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"save-specific-details\",children:/*#__PURE__*/_jsx(Link,{className:\"final-btn slot-add-specific-btn\",onClick:handleSaveSlot,children:\"Save Slot\"})})]})});};export default SpecificDataModal;","map":{"version":3,"names":["Modal","TextField","React","useState","TimeSlotSelect","DemoContainer","AdapterDayjs","LocalizationProvider","DatePicker","Link","dayjs","axios","jsx","_jsx","jsxs","_jsxs","SpecificDataModal","_ref","modal","handleClose","activityId","disabledDates","fetchSlots","showSnackbar","specificTimeSlot","setSpecificTimeSlot","specificSeats","setSpecificSeats","selectedDate","setSelectedDate","isDateDisabled","date","formattedDate","format","includes","handleSaveSlot","response","post","slot","seats","status","error","keepMounted","open","onClose","children","className","timeSlot","setTimeSlot","id","label","type","value","onChange","event","target","dateAdapter","components","newDate","shouldDisableDate","onClick"],"sources":["/Users/yavuzoktay/Documents/FlyAwayBallooning/flyawayballooning-system-backend/client/src/backend/components/SpecificActivityPage/SpecificDataModal.jsx"],"sourcesContent":["import { Modal, TextField } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport TimeSlotSelect from \"./TimeSlotSelect\";\nimport { DemoContainer } from '@mui/x-date-pickers/internals/demo';\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\n\n\nconst SpecificDataModal = ({ modal, handleClose, activityId, disabledDates, fetchSlots, showSnackbar }) => {\n    const [specificTimeSlot, setSpecificTimeSlot] = useState('');\n    const [specificSeats, setSpecificSeats] = useState('');\n    const [selectedDate, setSelectedDate] = useState(null);\n\n    // Function to determine if a date should be disabled\n    const isDateDisabled = (date) => {\n        const formattedDate = dayjs(date).format(\"DD-MM-YYYY\");\n        return disabledDates.includes(formattedDate); // Match against saved dates\n    };\n\n    // Handle Save Slot\n    async function handleSaveSlot() {\n        const formattedDate = dayjs(selectedDate).format(\"DD-MM-YYYY\");\n        try {\n            const response = await axios.post(\"/api/addSpecificSlot\", {\n                activityId,\n                date: formattedDate,\n                slot: specificTimeSlot,\n                seats: specificSeats\n            });\n\n            if (response.status === 200) {\n                fetchSlots();\n                handleClose();\n                setSpecificTimeSlot('');\n                setSpecificSeats('');\n                setSelectedDate(null);\n                // Show success Snackbar\n                showSnackbar(\"Slot added successfully!\", \"success\");\n            } else {\n                showSnackbar(\"Failed to add slot.\", \"error\");\n            }\n        } catch (error) {\n\n        }\n    }\n\n    return (\n        <Modal\n            keepMounted\n            open={modal}\n            onClose={handleClose}\n            aria-labelledby=\"keep-mounted-modal-title\"\n            aria-describedby=\"keep-mounted-modal-description\"\n        >\n            <div className=\"specific-slot-add\">\n                <h3>Add Slot</h3>\n                <div className=\"specific-slot-field\">\n                    <TimeSlotSelect timeSlot={specificTimeSlot} setTimeSlot={setSpecificTimeSlot} />\n                </div>\n                <div className=\"specific-slot-field\">\n                    <TextField\n                        id=\"add-outlined-controlled\"\n                        label=\"Select Seats\"\n                        type=\"number\"\n                        value={specificSeats}\n                        onChange={(event) => {\n                            setSpecificSeats(event.target.value);\n                        }}\n                    />\n                </div>\n                <div className=\"specific-slot-field calender-slot-add\">\n                    <LocalizationProvider dateAdapter={AdapterDayjs}>\n                        <DemoContainer components={[\"DatePicker\"]}>\n                            <DatePicker\n                                label=\"Select Date\"\n                                value={selectedDate ? dayjs(selectedDate) : null}\n                                onChange={(newDate) => setSelectedDate(newDate ? dayjs(newDate) : null)}\n                                shouldDisableDate={isDateDisabled} // Disable specific dates\n                            />\n                        </DemoContainer>\n                    </LocalizationProvider>\n                </div>\n                <div className=\"save-specific-details\">\n                    <Link className=\"final-btn slot-add-specific-btn\" onClick={handleSaveSlot}>Save Slot</Link>\n                </div>\n            </div>\n        </Modal>\n\n    )\n}\n\nexport default SpecificDataModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}